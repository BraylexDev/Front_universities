<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <nav class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
      <div class="position-sticky pt-3">
        <div class="text-center mb-4">
          <img
            src="assets/images/logo.png"
            alt="Logo"
            class="img-fluid mb-2"
            style="max-width: 80px"
          />
          <h5 class="text-primary fw-bold">Admin Panel</h5>
          <p class="text-muted small mb-0">{{ currentUser?.name }}</p>
          <small class="text-muted">{{ currentUser?.rol }}</small>
        </div>

        <ul class="nav flex-column">
          <li class="nav-item mb-2">
            <button
              class="nav-link btn btn-outline-primary w-100 text-start"
              [class.active]="activeTab === 'profile'"
              (click)="setActiveTab('profile')"
            >
              <i class="pi pi-person-circle me-2"></i>Editar Perfil
            </button>
          </li>
          <li class="nav-item mb-2">
            <button
              class="nav-link btn btn-outline-success w-100 text-start"
              [class.active]="activeTab === 'ranking'"
              (click)="setActiveTab('ranking')"
            >
              <i class="pi pi-bar-chart me-2"></i>Ranking
            </button>
          </li>
          <li class="nav-item mb-2">
            <button
              class="nav-link btn btn-outline-info w-100 text-start"
              [class.active]="activeTab === 'news'"
              (click)="setActiveTab('news')"
            >
              <i class="pi pi-newspaper me-2"></i>Noticias
            </button>
          </li>
        </ul>

        <hr />

        <button class="btn btn-danger w-100" (click)="logout()">
          <i class="pi pi-box-arrow-right me-2"></i>Cerrar SesiÃ³n
        </button>
      </div>
    </nav>

    <!-- Main content -->
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div
        class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
      >
        <h1 class="h2">
          <span *ngIf="activeTab === 'profile'">ğŸ‘¤ Editar Perfil</span>
          <span *ngIf="activeTab === 'ranking'">ğŸ“Š GestiÃ³n de Ranking</span>
          <span *ngIf="activeTab === 'news'">ğŸ“° GestiÃ³n de Noticias</span>
        </h1>
        <button
          class="btn btn-sm btn-outline-secondary d-md-none"
          (click)="toggleSidebar()"
        >
          <i class="pi pi-list"></i>
        </button>
      </div>

      <!-- Content based on active tab -->
      <div class="tab-content">
        <div *ngIf="activeTab === 'profile'">
          <app-edit-profile></app-edit-profile>
        </div>

        <div *ngIf="activeTab === 'ranking'">
          <app-ranking-upload></app-ranking-upload>
        </div>

        <div *ngIf="activeTab === 'news'">
          <app-news-management></app-news-management>
        </div>
      </div>
    </main>
  </div>
</div>
